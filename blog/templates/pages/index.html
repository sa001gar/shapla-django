{% extends "base.html" %}
{% block content %}
    
    <!-- ================= VIEW: HOME ================= -->
    <section id="view-home" class="page-transition">
        <!-- Hero: Editorial (Restored) -->
        <!-- Hero: Editorial (Dynamic) -->
        {% if hero_post %}
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mb-20 items-start border-b border-ink/10 pb-16">
            <div class="lg:col-span-7 space-y-6 pt-4">
                <span class="inline-block px-2 py-1 bg-ink/5 text-ink text-xs font-semibold rounded tracking-wide border border-ink/10">সম্পাদকীয়</span>
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-ink leading-tight mb-6 tracking-tight cursor-pointer hover:text-[#AA1C1C] transition-colors duration-300 font-serif"
                    onclick="window.location.href='{% url 'post' hero_post.category.slug hero_post.slug %}'">{{ hero_post.title }}</h1>
                <p class="text-lg text-charcoal/80 leading-relaxed font-light max-w-2xl">
                    {{ hero_post.description|default:"" }}
                </p>
                <div class="flex items-center gap-4 text-sm text-stone/60 font-serif pt-4">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 rounded-full bg-stone-200 overflow-hidden border border-white shadow-sm">
                            {% if hero_post.author.author_image %}
                            <img src="{{ hero_post.author.author_image.url }}" alt="{{ hero_post.author.name }}" class="w-full h-full object-cover">
                            {% else %}
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed={{ hero_post.author.name }}" alt="Author" class="w-full h-full object-cover">
                            {% endif %}
                        </div>
                        <span class="text-charcoal font-medium">{{ hero_post.author.name }}</span>
                    </div>
                    <span class="hidden sm:inline w-px h-3 bg-stone-300"></span>
                    <span class="flex items-center gap-1.5"><iconify-icon icon="lucide:calendar" width="14"></iconify-icon> {{ hero_post.created_at|date:"j F, Y" }}</span>
                    <span class="flex items-center gap-1.5"><iconify-icon icon="lucide:clock" width="14"></iconify-icon> ৫ মিনিট পাঠ</span>
                </div>
            </div>
            <!-- Hero Image -->
            <div class="md:col-span-5 h-[300px] md:h-[450px] relative rounded-2xl overflow-hidden cursor-pointer group shadow-lg"
                 onclick="window.location.href='{% url 'post' hero_post.category.slug hero_post.slug %}'">
                <div class="h-full w-full bg-stone-200 rounded-lg overflow-hidden border border-ink/5 relative shadow-sm hover:shadow-md transition-all duration-500">
                    {% if hero_post.post_image %}
                    <img src="{{ hero_post.post_image.url }}" alt="{{ hero_post.title }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700">
                    {% else %}
                    <div class="absolute inset-0 bg-stone-100 flex items-center justify-center overflow-hidden">
                         <span class="font-serif text-9xl text-ink/10 italic group-hover:scale-110 transition-transform duration-500">Aa</span>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endif %}

        <!-- ================= CATEGORY SECTIONS (4 Cards Per Section) ================= -->
        
        <!-- Category: Politics (রাজনীতি) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">রাজনীতি</div>
                <button onclick="window.location.href='{% url 'category' 'politics' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
            <!-- Grid Content -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in politics_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- Category: Sports (খেলা) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">খেলা</div>
                <button onclick="window.location.href='{% url 'category' 'sports' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
            <!-- Grid Content -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in sports_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- Category: Feature (ফিচার) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">ফিচার</div>
                <button onclick="window.location.href='{% url 'category' 'featured' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
            <!-- Grid Content -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in feature_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- Category: Opinion (মতামত) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">মতামত</div>
                <button onclick="window.location.href='{% url 'category' 'opinion' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
            <!-- Grid Content -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in opinion_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- Category: Entertainment (বিনোদন) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">বিনোদন</div>
                <button onclick="window.location.href='{% url 'category' 'entertainment' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
            <!-- Grid Content -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in entertainment_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- Category: International (আন্তর্জাতিক) -->
        <div class="mb-16">
            <!-- Header -->
            <div class="flex items-center justify-between border-b-2 border-[#AA1C1C] mb-6">
                <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">আন্তর্জাতিক</div>
                <button onclick="window.location.href='{% url 'category' 'international' %}'" class="text-xs font-bold text-stone-500 hover:text-[#AA1C1C] flex items-center gap-1">
                    আরও <iconify-icon icon="lucide:chevron-right" width="12"></iconify-icon>
                </button>
            </div>
             <!-- Grid Content -->
             <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                 {% for post in international_posts %}
                 <!-- Card -->
                 <article class="group cursor-pointer flex flex-col gap-2" onclick="window.location.href='{% url 'post' post.category.slug post.slug %}'">
                    <div class="aspect-video bg-stone-200 rounded overflow-hidden relative shadow-sm group-hover:shadow-md transition-all">
                        {% if post.post_image %}
                        <img src="{{ post.post_image.url }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ post.title }}">
                        {% else %}
                        <div class="w-full h-full bg-stone-300 flex items-center justify-center text-stone-400"><iconify-icon icon="lucide:image" width="32"></iconify-icon></div>
                        {% endif %}
                    </div>
                    <h3 class="text-lg font-bold text-charcoal group-hover:text-[#AA1C1C] transition-colors leading-snug line-clamp-2">
                        {{ post.title }}
                    </h3>
                    <div class="flex items-center gap-2 text-[10px] text-stone-400">
                        <span>{{ post.created_at|timesince }} আগে</span>
                    </div>
                 </article>
                 {% empty %}
                 <div class="col-span-4 text-center text-stone-400 py-8">এই বিভাগে কোনো লেখা পাওয়া যায়নি।</div>
                 {% endfor %}
            </div>
        </div>

        <!-- ================= VIDEO / MULTIMEDIA ================= -->
        {% comment %} <div class="mb-20">
             <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-2">
                    <span class="w-2 h-8 bg-[#AA1C1C] rounded-full"></span>
                    <h2 class="text-2xl font-bold text-charcoal">ভিডিও গ্যালারি</h2>
                </div>
                <button class="text-xs font-bold text-[#AA1C1C] hover:underline">সব ভিডিও দেখুন</button>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <!-- Video Item 1 -->
                 <div class="group cursor-pointer text-center space-y-3">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-white shadow-lg relative group-hover:border-[#AA1C1C] transition-colors">
                        <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/20 flex items-center justify-center">
                             <iconify-icon icon="lucide:play-circle" class="text-white text-3xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all"></iconify-icon>
                        </div>
                    </div>
                    <h4 class="font-bold text-charcoal text-sm group-hover:text-[#AA1C1C]">ক্যামেরার পেছনে কারিগর</h4>
                 </div>

                 <!-- Video Item 2 -->
                 <div class="group cursor-pointer text-center space-y-3">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-white shadow-lg relative group-hover:border-[#AA1C1C] transition-colors">
                        <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/20 flex items-center justify-center">
                             <iconify-icon icon="lucide:play-circle" class="text-white text-3xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all"></iconify-icon>
                        </div>
                    </div>
                    <h4 class="font-bold text-charcoal text-sm group-hover:text-[#AA1C1C]">পাহাড়ের পথে একদিন</h4>
                 </div>

                 <!-- Video Item 3 -->
                 <div class="group cursor-pointer text-center space-y-3">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-white shadow-lg relative group-hover:border-[#AA1C1C] transition-colors">
                        <img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/20 flex items-center justify-center">
                             <iconify-icon icon="lucide:play-circle" class="text-white text-3xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all"></iconify-icon>
                        </div>
                    </div>
                    <h4 class="font-bold text-charcoal text-sm group-hover:text-[#AA1C1C]">বই পড়ার অভ্যেস</h4>
                 </div>

                 <!-- Video Item 4 -->
                 <div class="group cursor-pointer text-center space-y-3">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-white shadow-lg relative group-hover:border-[#AA1C1C] transition-colors">
                        <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/20 flex items-center justify-center">
                             <iconify-icon icon="lucide:play-circle" class="text-white text-3xl opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all"></iconify-icon>
                        </div>
                    </div>
                    <h4 class="font-bold text-charcoal text-sm group-hover:text-[#AA1C1C]">সংগীতের সাথে কথোপকথন</h4>
                 </div>
            </div>
        </div> {% endcomment %}

        <!-- ================= AUTHORS ================= -->
        <div class="mb-12">
            <!-- Header -->
              <div class="flex items-center justify-between  mb-8">
                 <div class="bg-[#AA1C1C] text-white px-4 py-1.5 text-sm font-bold">টিম শাপলা</div>
                 <button class="text-xs font-bold text-[#AA1C1C] hover:underline flex items-center gap-1">
                    সকল লেখক <iconify-icon icon="lucide:arrow-right" width="12"></iconify-icon>
                </button>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                {% for member in team_members %}
                <div class="bg-white p-6 rounded-lg text-center border border-stone-100 shadow-sm hover:shadow-md transition-all group">
                    <div class="w-20 h-20 mx-auto rounded-full overflow-hidden mb-3 border-2 border-stone-100 group-hover:border-[#AA1C1C] transition-colors">
                         {% if member.team_image %}
                         <img src="{{ member.team_image.url }}" class="w-full h-full object-cover" alt="{{ member.name }}">
                         {% else %}
                         <img src="https://api.dicebear.com/7.x/notionists/svg?seed={{ member.name }}" class="w-full h-full object-cover" alt="Author">
                         {% endif %}
                    </div>
                    <h4 class="font-bold text-charcoal mb-0.5">{{ member.name }}</h4>
                    <span class="text-xs text-stone-500">{{ member.role }}</span>
                </div>
                {% empty %}
                <div class="col-span-4 text-center text-stone-400">টিম মেম্বার পাওয়া যায়নি।</div>
                {% endfor %}
            </div>
        </div>

    </section>
{% endblock %}
